<%# pass in num_results, page_size as local variables, otherwise parameters for other stuff %>

<% return if num_results < page_size %>
<%
if params[:page].nil? then
  page = 1
else
  page = params[:page].to_i
end
range_start = (page - 1) * page_size + 1
range_end = page * page_size
range_end = num_results if range_end > num_results
%>

<%= range_start %> to <%= range_end %> of <%= num_results %>&nbsp;&nbsp;

<% if page > 1  then%>
  <%= link_to "< prev", params.merge({:page => (page - 1)}) %>
<% else %>
 &lt; prev
<% end %>

 |

<% if num_results > range_end  then %>
  <%= link_to "next >", params.merge({:page => (page + 1)}) %>
<% else %>
 next &gt;
<% end %>